<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>CS106L Winter2025 Assignment1 SimpleEnroll | lzx's Blog</title><meta name="author" content="lzx"><meta name="copyright" content="lzx"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="CS106L Winter2025 Assignment1 SimpleEnroll 写在前面 作业地址：CS106L Winter2025 Assignment 以下是Stanford CS106L的第一个作业，需要在学完Containers后完成 具体思路 Part 0: Read the code and fill in the Course struct 本题一共有两个任务  整体看一下代">
<meta property="og:type" content="article">
<meta property="og:title" content="CS106L Winter2025 Assignment1 SimpleEnroll">
<meta property="og:url" content="https://taffy128.github.io/2025/07/22/CS106L-Winter2025-Assignment1-SimpleEnroll/index.html">
<meta property="og:site_name" content="lzx&#39;s Blog">
<meta property="og:description" content="CS106L Winter2025 Assignment1 SimpleEnroll 写在前面 作业地址：CS106L Winter2025 Assignment 以下是Stanford CS106L的第一个作业，需要在学完Containers后完成 具体思路 Part 0: Read the code and fill in the Course struct 本题一共有两个任务  整体看一下代">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://taffy128.github.io/img/avatar.jpg">
<meta property="article:published_time" content="2025-07-22T10:22:02.322Z">
<meta property="article:modified_time" content="2025-08-21T08:22:11.899Z">
<meta property="article:author" content="lzx">
<meta property="article:tag" content="C++学习笔记">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://taffy128.github.io/img/avatar.jpg"><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "CS106L Winter2025 Assignment1 SimpleEnroll",
  "url": "https://taffy128.github.io/2025/07/22/CS106L-Winter2025-Assignment1-SimpleEnroll/",
  "image": "https://taffy128.github.io/img/avatar.jpg",
  "datePublished": "2025-07-22T10:22:02.322Z",
  "dateModified": "2025-08-21T08:22:11.899Z",
  "author": [
    {
      "@type": "Person",
      "name": "lzx",
      "url": "https://taffy128.github.io/"
    }
  ]
}</script><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://taffy128.github.io/2025/07/22/CS106L-Winter2025-Assignment1-SimpleEnroll/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>
    (() => {
      
    const saveToLocal = {
      set: (key, value, ttl) => {
        if (!ttl) return
        const expiry = Date.now() + ttl * 86400000
        localStorage.setItem(key, JSON.stringify({ value, expiry }))
      },
      get: key => {
        const itemStr = localStorage.getItem(key)
        if (!itemStr) return undefined
        const { value, expiry } = JSON.parse(itemStr)
        if (Date.now() > expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return value
      }
    }

    window.btf = {
      saveToLocal,
      getScript: (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        Object.entries(attr).forEach(([key, val]) => script.setAttribute(key, val))
        script.onload = script.onreadystatechange = () => {
          if (!script.readyState || /loaded|complete/.test(script.readyState)) resolve()
        }
        script.onerror = reject
        document.head.appendChild(script)
      }),
      getCSS: (url, id) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onload = link.onreadystatechange = () => {
          if (!link.readyState || /loaded|complete/.test(link.readyState)) resolve()
        }
        link.onerror = reject
        document.head.appendChild(link)
      }),
      addGlobalFn: (key, fn, name = false, parent = window) => {
        if (!false && key.startsWith('pjax')) return
        const globalFn = parent.globalFn || {}
        globalFn[key] = globalFn[key] || {}
        globalFn[key][name || Object.keys(globalFn[key]).length] = fn
        parent.globalFn = globalFn
      }
    }
  
      
      const activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      const activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }

      btf.activateDarkMode = activateDarkMode
      btf.activateLightMode = activateLightMode

      const theme = saveToLocal.get('theme')
    
          theme === 'dark' ? activateDarkMode() : theme === 'light' ? activateLightMode() : null
        
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        document.documentElement.classList.toggle('hide-aside', asideStatus === 'hide')
      }
    
      
    const detectApple = () => {
      if (/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)) {
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
  
    })()
  </script><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"簡"},
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false,"highlightFullpage":false,"highlightMacStyle":true},
  copy: {
    success: '复制成功',
    error: '复制失败',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: false,
  islazyloadPlugin: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'CS106L Winter2025 Assignment1 SimpleEnroll',
  isHighlightShrink: false,
  isToc: true,
  pageType: 'post'
}</script><meta name="generator" content="Hexo 7.3.0"></head><body><div id="web_bg" style="background-color: #FFB6C1;"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img text-center"><img src="/img/avatar.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data text-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">18</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">1</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">3</div></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fas fa-folder-open"></i><span> 分类</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/categories/CS%20106L/"><span> CS 106L</span></a></li><li><a class="site-page child" href="/categories/%E5%86%85%E5%AD%98%E6%B1%A0/"><span> 内存池</span></a></li><li><a class="site-page child" href="/categories/6-S081/"><span> 6.S081</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg fixed" id="page-header"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/"><span class="site-name">lzx's Blog</span></a><a class="nav-page-title" href="/"><span class="site-name">CS106L Winter2025 Assignment1 SimpleEnroll</span></a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fas fa-folder-open"></i><span> 分类</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/categories/CS%20106L/"><span> CS 106L</span></a></li><li><a class="site-page child" href="/categories/%E5%86%85%E5%AD%98%E6%B1%A0/"><span> 内存池</span></a></li><li><a class="site-page child" href="/categories/6-S081/"><span> 6.S081</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div><div id="toggle-menu"><span class="site-page"><i class="fas fa-bars fa-fw"></i></span></div></div></nav><div id="post-info"><h1 class="post-title">CS106L Winter2025 Assignment1 SimpleEnroll</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2025-07-22T10:22:02.322Z" title="发表于 2025-07-22 18:22:02">2025-07-22</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2025-08-21T08:22:11.899Z" title="更新于 2025-08-21 16:22:11">2025-08-21</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/CS106L/">CS106L</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title=""><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">浏览量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="container post-content" id="article-container"><h1>CS106L Winter2025 Assignment1 SimpleEnroll</h1>
<h2 id="写在前面">写在前面</h2>
<p>作业地址：<a target="_blank" rel="noopener" href="https://github.com/Chena2003/CS106L?tab=readme-ov-file">CS106L Winter2025 Assignment</a></p>
<p>以下是Stanford CS106L的第一个作业，需要在学完<code>Containers</code>后完成</p>
<h2 id="具体思路">具体思路</h2>
<h3 id="Part-0-Read-the-code-and-fill-in-the-Course-struct">Part 0: Read the code and fill in the <code>Course</code> struct</h3>
<p>本题一共有两个任务</p>
<ol>
<li>整体看一下代码</li>
<li>补充完整结构<code>Course</code></li>
</ol>
<p>首先观察一下整体代码，并说一下整个作业需要我们完成什么。本作业需要我们通过一个csv文件，来看看在一个特定的学期当中，有哪些课开课了，而有<strong>哪些课是没有的</strong>，在这里我们创建一个结构体<code>Course</code>其中包括三个参数，<code>title</code>课程名称、<code>number_of_units</code>此课程共有几个单元以及<code>quarter</code>学期，值得注意的是，国外学期用的是季节+年份来表示，如果<code>quarter</code>字段为<code>null</code>则表示这门课没有开课</p>
<p>下面是<code>main.cpp</code>的组成部分</p>
<ul>
<li>
<p><code>parse_csv</code>函数：将一个csv文件转变为一个Course数组来存放。</p>
</li>
<li>
<p><code>write_courses_offered</code>函数：将开课的课程存入一个csv文件，<strong>并将存入csv的课程信息删掉</strong></p>
</li>
<li>
<p><code>write_courses_not_offered</code>函数：将没开课的课程存入一个csv文件</p>
</li>
<li>
<p><code>Course</code>结构体：观察题目给我们的csv文件可以发现，<code>title</code>和<code>quarter</code>均为字符串的形式，故它们的类型均为<code>String</code>，对于<code>number_of_units</code>笔者一开始认为其应该为<code>int</code>类型，但之后会用到一个<code>spilt</code>函数，其类型属于<code>String</code>，即将一个字符串分成好几个不同的字符串，故这里的<code>number_of_units</code>也应该为<code>String</code>类型</p>
  <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">Course</span> &#123;</span><br><span class="line">  std::string title;</span><br><span class="line">  std::string number_of_units;</span><br><span class="line">  std::string quarter;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>注释：告诉我们看一下<code>main</code>函数，并告知我们这三个函数需要更改一下签名，观察可得，从始至终用的都是同一个结构体数组，而不是一直复制一个不断更改，故可以知道这里的数组应该是引用类型，即指向的是地址，改变一次，下一次也接着改变，故对于<code>parse_csv</code>函数来说需要将签名改为引用类型，而对于<code>write_courses_offered</code>函数来说，它存在特殊要求，最后是需要将参数数组在其原基础上做更改，所以也需要改为引用类型，对于<code>write_courses_not_offered</code>则没有这种要求，故不需要更改</p>
</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">write_courses_offered</span><span class="params">(std::vector&lt;Course&gt;&amp; all_courses)</span></span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">write_courses_not_offered</span><span class="params">(std::vector&lt;Course&gt; unlisted_courses)</span></span></span><br></pre></td></tr></table></figure>
<h3 id="Part-1-parse-csv">Part 1: <code>parse_csv</code></h3>
<p>本题需要我们完成<code>parse_csv</code>函数，此函数主要是读取一个csv文件的内容，并将其中的内容保存在一个<code>Course</code>数组中，简单思考一下</p>
<ol>
<li>要使用IO流的方法来读取外部文件的内容</li>
<li>每一行都对应了一个<code>Course</code>故要一行一行的读取内容，在这里应使用<code>getline()</code>函数</li>
<li>最上面一行的内容不属于<code>Course</code>应忽略，可以用<code>ignore</code>函数，或仅<code>getline()</code>读取掉但不操作</li>
<li>每一行内容存放了三个不同的值，并用逗号分隔，应使用<code>split</code>函数（注释标明<code>split</code>函数在<code>utils.cpp</code>中），对于此函数，其返回的是一个字符串数组(<code>std::vector&lt;std::string&gt;</code>)，故可以使用[]表达式来取值</li>
<li>对一个结构体数组添加元素，有许多方法可以做到，如<code>push_back</code>函数或<code>emplace_back</code></li>
</ol>
<p>以下是完成后的<code>parse_csv</code>函数</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">parse_csv</span><span class="params">(std::string filename, std::vector&lt;Course&gt;&amp; courses)</span> </span>&#123;</span><br><span class="line">  std::ifstream file;</span><br><span class="line">  file.<span class="built_in">open</span>(filename);</span><br><span class="line">  <span class="comment">//以上两行可以写成std::ifstream file(filename);</span></span><br><span class="line">  std::string line;</span><br><span class="line">  std::<span class="built_in">getline</span>(file, line);</span><br><span class="line">  <span class="keyword">while</span> (std::<span class="built_in">getline</span>(file, line)) &#123;</span><br><span class="line">    std::vector&lt;std::string&gt; fields = <span class="built_in">split</span>(line,<span class="string">&#x27;,&#x27;</span>);</span><br><span class="line">    Course course;</span><br><span class="line">    course.title = fields[<span class="number">0</span>];</span><br><span class="line">    course.number_of_units = fields[<span class="number">1</span>];</span><br><span class="line">    course.quarter = fields[<span class="number">2</span>];</span><br><span class="line">    courses.<span class="built_in">push_back</span>(&#123;course&#125;);</span><br><span class="line">  &#125;</span><br><span class="line">  file.<span class="built_in">close</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="Part-2-write-courses-offered">Part 2: <code>write_courses_offered</code></h3>
<p>本题需要将已经存在的一个<code>Course</code>数组进行筛选，选出<code>quarter</code>不为null的课程，写入一个新csv文件，并在将这些课程删除，值得注意的点有</p>
<ol>
<li>将数组中的内容写入文件中，应使用<code>ofstream</code>来做，记得打开文件也要关闭文件</li>
<li>对于新csv文件的第一行会有一个特殊的内容需要单独写入</li>
<li>使用题目给我们的<code>delete_elem_from_vector</code>函数(注释标明<code>delete_elem_from_vector</code>函数在<code>utils.cpp</code>中)来删除</li>
</ol>
<p>以下是完成后的<code>write_courses_offered</code>函数</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">write_courses_offered</span><span class="params">(std::vector&lt;Course&gt; &amp;all_courses)</span> </span>&#123;</span><br><span class="line">  Course course;</span><br><span class="line">  <span class="function">std::ofstream <span class="title">file</span><span class="params">(COURSES_OFFERED_PATH)</span></span>;</span><br><span class="line">  file &lt;&lt; <span class="string">&quot;Title,Number of Units,Quarter&quot;</span> &lt;&lt; std::endl;</span><br><span class="line">  <span class="comment">//用于记录哪些课程信息需要删除</span></span><br><span class="line">  std::vector&lt;Course&gt; course_need_to_delete;</span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">auto</span> course : all_courses) &#123;</span><br><span class="line">    <span class="keyword">if</span>(course.quarter != <span class="string">&quot;null&quot;</span>) &#123;</span><br><span class="line">      file &lt;&lt; course.title &lt;&lt; <span class="string">&quot;,&quot;</span> &lt;&lt; course.number_of_units &lt;&lt; <span class="string">&quot;,&quot;</span> &lt;&lt; course.quarter &lt;&lt; std::endl;</span><br><span class="line">      course_need_to_delete.<span class="built_in">push_back</span>(course);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">auto</span> course : course_need_to_delete) &#123;</span><br><span class="line">    <span class="built_in">delete_elem_from_vector</span>(all_courses, course);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="Part-3-write-courses-not-offered">Part 3: <code>write_courses_not_offered</code></h3>
<p>跟part2类似</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">write_courses_not_offered</span><span class="params">(std::vector&lt;Course&gt; unlisted_courses)</span> </span>&#123;</span><br><span class="line">  std::ofstream outfile;</span><br><span class="line">  outfile.<span class="built_in">open</span>(COURSES_NOT_OFFERED_PATH);</span><br><span class="line">  <span class="keyword">if</span> (outfile.<span class="built_in">is_open</span>()) &#123;</span><br><span class="line">    outfile &lt;&lt; <span class="string">&quot;Title,Number of Units,Quarter&quot;</span> &lt;&lt; std::endl;</span><br><span class="line">    <span class="keyword">for</span> (Course c : unlisted_courses) &#123;</span><br><span class="line">    outfile &lt;&lt; c.title &lt;&lt; <span class="string">&#x27;,&#x27;</span> &lt;&lt; c.number_of_units &lt;&lt; <span class="string">&#x27;,&#x27;</span> &lt;&lt; c.quarter &lt;&lt; std::endl;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  outfile.<span class="built_in">close</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><a target="_blank" rel="noopener" href="https://github.com/Taffy128/CS106L">github地址</a></p>
<p><img src="/images/CS-106L-assignment1.png" alt="图片"></p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>文章作者: </span><span class="post-copyright-info"><a href="https://taffy128.github.io/">lzx</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>文章链接: </span><span class="post-copyright-info"><a href="https://taffy128.github.io/2025/07/22/CS106L-Winter2025-Assignment1-SimpleEnroll/">https://taffy128.github.io/2025/07/22/CS106L-Winter2025-Assignment1-SimpleEnroll/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来源 <a href="https://taffy128.github.io" target="_blank">lzx's Blog</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/C-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">C++学习笔记</a></div><div class="post-share"><div class="social-share" data-image="/img/avatar.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><a class="pagination-related full-width" href="/2025/08/09/CS106L-Winter2025-Assignment2-Marriage-Pact/" title="CS106L Winter2025 Assignment2 Marriage Pact"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info"><div class="info-1"><div class="info-item-1">上一篇</div><div class="info-item-2">CS106L Winter2025 Assignment2 Marriage Pact</div></div><div class="info-2"><div class="info-item-1">CS106L Winter2025 Assignment2 Marriage Pact 写在前面 作业地址：CS106L Winter2025 Assignment 以下是Stanford CS106L的第二个作业，需要在学完Classes后完成 具体思路 Part 0: Setup 将kYourName改成自己的名字 1std::string kYourName = &quot;ACE Taffy&quot;; Part 1: Get all applicants 本题需要完成get_applicants函数：从一个.txt文件中读取其中内容，并将其中内容放到一个set里，具体思路即为  打开文件 读取每行的内容，将内容放到set中  12345678910std::set&lt;std::string&gt; get_applicants(std::string filename) &#123;  std::set&lt;std::string&gt; applicants;  std::ifstream file(filename);  std::string line;...</div></div></div></a></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><a class="pagination-related" href="/2025/09/13/6-S081-Lab0-Environment-Setup/" title="6.S081_Lab0_Environment Setup"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-09-13</div><div class="info-item-2">6.S081_Lab0_Environment Setup</div></div><div class="info-2"><div class="info-item-1">6.S081_Lab0_Environment Setup 写在前面 本文旨在为 MIT 6.S081: Operating System Engineering (RISC-V 版本) 的学习者提供一份完整、详尽的开发与调试环境搭建步骤。一个配置完善的环境是高效完成课程实验、深入理解操作系统内核的关键。本教程将引导你完成从安装工具链到配置图形化调试环境的全过程。 第一部分：基础概念 在开始配置前，理解以下几个核心概念，有助于清晰地认识整个开发与调试工作流。 1.1. 宿主机 (Host) 与客户机 (Guest) 整个开发过程涉及两个相互独立的系统环境：  宿主操作系统 (Host OS)：这是你用于开发和编译的系统，通常是一个 Linux 发行版（如 Ubuntu）。所有的开发工具，包括编译器、模拟器和调试器，都安装并运行在宿主机上。 客户操作系统 (Guest OS)：这是你正在学习和开发的操作系统，即 xv6。它运行在由模拟器创建的独立虚拟环境中。  1.2. QEMU 的角色 QEMU 是一个开源的系统模拟器。在本课程中，它的作用是提供一个完整的、软件模拟的...</div></div></div></a><a class="pagination-related" href="/2025/09/13/6-S081-Lab1-Unix-Utilities/" title="6.S081_Lab1_Unix Utilities"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-09-13</div><div class="info-item-2">6.S081_Lab1_Unix Utilities</div></div><div class="info-2"><div class="info-item-1">6.S081_Lab1_Unix Utilities 写在前面 这是本课程第一次正式Lab，自行完成需要耗费一定的时间 如果一行代码都还没有写，不知道完全要在哪里写，写什么东西，说明是对xv6的相关机制不懂，继续反复阅读xv6book 如果是写了一些代码，但是运行不起来，或者运行情况与预期不符，可以尝试询问AI或者用gdb逐行调试 如果已经花费了超额时间（例如easy题目仅做题时间超过1.5h），可以尝试阅读别人的源码，但是一定不要边看边写，要彻底看懂后自己完整的敲出来 Lab1地址 课程首页 0.Makefile 每个任务完成之后需要在Makefile中添加对应的信息才能运行 在UPROGS项下添加以下内容： 12345$U/_sleep\$U/_pingpong\$U/_primes\$U/_find\$U/_xargs\ 1.Sleep 通过sleep系统调用来实现休眠一定时间，注意如果没有传入参数，程序需要打印错误信息 1234567891011#include &quot;kernel/types.h&quot;#include...</div></div></div></a><a class="pagination-related" href="/2025/09/20/6-S081-Lab3-page-tables/" title="6.S081_Lab3_page tables"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-09-20</div><div class="info-item-2">6.S081_Lab3_page tables</div></div><div class="info-2"><div class="info-item-1">6.S081_Lab3_page tables 写在前面 如果一行代码都还没有写，不知道完全要在哪里写，写什么东西，说明是对xv6的相关机制不懂，继续反复阅读xv6book 如果是写了一些代码，但是运行不起来，或者运行情况与预期不符，可以尝试询问AI或者用gdb逐行调试 如果已经花费了超额时间（例如easy题目仅做题时间超过1.5h），可以尝试阅读别人的源码，但是一定不要边看边写，要彻底看懂后自己完整的敲出来 Lab3地址 课程首页 1.Speed up system calls 要求：通过在内核与用户空间之间共享一个只读内存页来加速getpid()系统调用，具体做法是在创建进程时分配一个物理页、存入PID，然后将其以只读方式映射到用户虚拟地址USYSCALL，并在进程退出时释放它，从而让用户程序可以直接从内存读取PID，避免陷入内核。 这个 task 的难点在于，你应该把 map page 这段代码放在哪里最合适？Lab 文档里说的是 When each process is created，具体是什么时候呢？是放在 fork 的地方，还是放在 allocproc...</div></div></div></a><a class="pagination-related" href="/2025/09/13/6-S081-Lab2-System-calls/" title="6.S081_Lab2_System calls"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-09-13</div><div class="info-item-2">6.S081_Lab2_System calls</div></div><div class="info-2"><div class="info-item-1">6.S081_Lab2_System calls 写在前面 如果一行代码都还没有写，不知道完全要在哪里写，写什么东西，说明是对xv6的相关机制不懂，继续反复阅读xv6book 如果是写了一些代码，但是运行不起来，或者运行情况与预期不符，可以尝试询问AI或者用gdb逐行调试 如果已经花费了超额时间（例如easy题目仅做题时间超过1.5h），可以尝试阅读别人的源码，但是一定不要边看边写，要彻底看懂后自己完整的敲出来 Lab2地址 课程首页 0.Makefile 每个任务完成之后需要在Makefile中添加对应的信息才能运行 在UPROGS项下添加以下内容： 12$U/_trace\$U/_sysinfotest\ 1.System call tracing 要求：trace [tracing_mask] [command] 要求当调用了给定的tracing mask所对应的system call时，打印输出调用该system call的进程PID、system call的名称、system call的返回值。已经给出了user...</div></div></div></a><a class="pagination-related" href="/2025/09/27/6-S081-Lab4-Traps/" title="6.S081_Lab4_Traps"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-09-27</div><div class="info-item-2">6.S081_Lab4_Traps</div></div><div class="info-2"><div class="info-item-1">6.S081_Lab4_Traps 写在前面 如果一行代码都还没有写，不知道完全要在哪里写，写什么东西，说明是对xv6的相关机制不懂，继续反复阅读xv6book 如果是写了一些代码，但是运行不起来，或者运行情况与预期不符，可以尝试询问AI或者用gdb逐行调试 如果已经花费了超额时间（例如easy题目仅做题时间超过1.5h），可以尝试阅读别人的源码，但是一定不要边看边写，要彻底看懂后自己完整的敲出来 Lab4地址 课程首页 1.RISC-V assembly 要求：使用make fs.img编译，得到user/call.asm文件，通过阅读call.asm，了解g、f和main函数，并回答以下问题   Which registers contain arguments to functions? For example, which register holds 13 in main’s call to printf? a1 里存 12（第一个参数），a2 里存 13（第二个参数），a1、a2 包含函数参数。    Where is the call to function f...</div></div></div></a><a class="pagination-related" href="/2025/10/18/6-S081-Lab5-Copy-on-write-fork/" title="6.S081_Lab5_Copy-on-write fork"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-10-18</div><div class="info-item-2">6.S081_Lab5_Copy-on-write fork</div></div><div class="info-2"><div class="info-item-1">6.S081_Lab5_Copy-on-write fork 写在前面 如果一行代码都还没有写，不知道完全要在哪里写，写什么东西，说明是对xv6的相关机制不懂，继续反复阅读xv6book 如果是写了一些代码，但是运行不起来，或者运行情况与预期不符，可以尝试询问AI或者用gdb逐行调试 如果已经花费了超额时间（例如easy题目仅做题时间超过1.5h），可以尝试阅读别人的源码，但是一定不要边看边写，要彻底看懂后自己完整的敲出来 页面引用计数（Page Refcount） 这部分的代码都修改于 kalloc.c。 在 Linux 内核中，有 struct page 数据结构来对应每一个 page 的 metadata。在 Xv6 中，我定义了一个 _refcount 数组，来表示每个 page 的引用计数，引用计数为 0 表示 page 可以被释放。这里我用了一个锁来保护 _refcount 字段 123#define PAGE_IDX(pa) (((uint64)pa - (uint64)end) &gt;&gt; PGSHIFT)static int...</div></div></div></a></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info text-center"><div class="avatar-img"><img src="/img/avatar.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info-name">lzx</div><div class="author-info-description"></div><div class="site-data"><a href="/archives/"><div class="headline">文章</div><div class="length-num">18</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">1</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">3</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/Taffy128"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons"><a class="social-icon" href="https://github.com/Taffy128" target="_blank" title="Github"><i class="fab fa-github" style="color: #24292e;"></i></a><a class="social-icon" href="mailto:yyangguangnanhai9@gmail.com" target="_blank" title="Email"><i class="fas fa-envelope" style="color: #4a7dbe;"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">This is my Blog</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-number">1.</span> <span class="toc-text">CS106L Winter2025 Assignment1 SimpleEnroll</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%86%99%E5%9C%A8%E5%89%8D%E9%9D%A2"><span class="toc-number">1.1.</span> <span class="toc-text">写在前面</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%B7%E4%BD%93%E6%80%9D%E8%B7%AF"><span class="toc-number">1.2.</span> <span class="toc-text">具体思路</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Part-0-Read-the-code-and-fill-in-the-Course-struct"><span class="toc-number">1.2.1.</span> <span class="toc-text">Part 0: Read the code and fill in the Course struct</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Part-1-parse-csv"><span class="toc-number">1.2.2.</span> <span class="toc-text">Part 1: parse_csv</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Part-2-write-courses-offered"><span class="toc-number">1.2.3.</span> <span class="toc-text">Part 2: write_courses_offered</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Part-3-write-courses-not-offered"><span class="toc-number">1.2.4.</span> <span class="toc-text">Part 3: write_courses_not_offered</span></a></li></ol></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/11/23/6-S081-Lab7-networking/" title="6.S081_Lab7_networking">6.S081_Lab7_networking</a><time datetime="2025-11-23T07:42:59.202Z" title="发表于 2025-11-23 15:42:59">2025-11-23</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/11/01/6-S081-Lab6-Multithreading/" title="6.S081_Lab6_Multithreading">6.S081_Lab6_Multithreading</a><time datetime="2025-11-01T09:59:23.755Z" title="发表于 2025-11-01 17:59:23">2025-11-01</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/10/18/6-S081-Lab5-Copy-on-write-fork/" title="6.S081_Lab5_Copy-on-write fork">6.S081_Lab5_Copy-on-write fork</a><time datetime="2025-10-18T09:40:41.145Z" title="发表于 2025-10-18 17:40:41">2025-10-18</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/09/27/6-S081-Lab4-Traps/" title="6.S081_Lab4_Traps">6.S081_Lab4_Traps</a><time datetime="2025-09-27T10:04:55.181Z" title="发表于 2025-09-27 18:04:55">2025-09-27</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/09/20/6-S081-Lab3-page-tables/" title="6.S081_Lab3_page tables">6.S081_Lab3_page tables</a><time datetime="2025-09-20T03:11:15.463Z" title="发表于 2025-09-20 11:11:15">2025-09-20</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2019 - 2025 By lzx</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo 7.3.0</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly 5.3.5</a></div><div class="footer_custom_text">Hi, welcome to my blog!</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="translateLink" type="button" title="简繁转换">繁</button><button id="darkmode" type="button" title="日间和夜间模式切换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.umd.min.js"></script><div class="js-pjax"></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>